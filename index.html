<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>SAFARE</title>
  <style>
    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
      background-color: #ffffff;
    }
    #map-container {
      background-color: #001f3f;
      padding: 20px;
    }
    #map { height: 600px; }
    h1, h2, h3 {
      margin: 16px;
    }
    .info-card, .quiz-card {
      background-color: white;
      color: #000;
      border-radius: 8px;
      padding: 16px;
      margin: 20px auto;
      max-width: 900px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      position: relative;
    }
    .quiz-card {
      text-align: center;
    }
    .quiz-card button {
      margin: 10px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    .leaflet-popup-content {
      font-size: 14px;
    }
    a {
      color: black;
      text-decoration: underline;
    }
    .plus-button {
      position: absolute;
      top: 12px;
      right: 16px;
      font-size: 18px;
      color: #888;
      cursor: pointer;
      text-decoration: none;
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
  <div id="map-container">
    <h1 style="color: white; text-align: center;">SAFARE</h1>
    <p style="color: white; text-align: center;">세계를 안전하게, SAFARE와 함께</p>
    <div id="map"></div>
  </div>

  <div class="info-card">
    <a href="https://search.naver.com/search.naver?where=news&query=국제+분쟁+범죄" class="plus-button" target="_blank">＋</a>
    <h2>현 국제 범죄 및 분쟁 현황</h2>
    <ul id="news-list"></ul>
  </div>

  <div class="info-card">
    <a href="https://search.naver.com/search.naver?where=news&query=국가+위험+범죄" class="plus-button" target="_blank">＋</a>
    <h2>주요 국가 별 위험 상황</h2>
    <ul id="risk-list"></ul>
  </div>

  <div class="quiz-card" id="quiz-section">
    <h3 id="quiz-question">퀴즈 로딩 중...</h3>
    <button onclick="submitAnswer(true)">O</button>
    <button onclick="submitAnswer(false)">X</button>
    <p id="quiz-result"></p>
  </div>

<script>
  // 지도 설정
  var map = L.map('map').setView([20, 0], 2);
  L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
    maxZoom: 18,
    attribution: '© OpenStreetMap'
  }).addTo(map);

  const pins = [
    {name:"우크라이나", lat:48.3794, lng:31.1656, info:"러시아와 전쟁 중. 민간인 피해 심각."},
    {name:"멕시코", lat:23.6345, lng:-102.5528, info:"마약 카르텔 활개, 군과 충돌 빈번."},
    {name:"브라질", lat:-14.2350, lng:-51.9253, info:"갱단 세력 확대 중, 총기 범죄 증가."},
    {name:"이란", lat:32.4279, lng:53.6880, info:"대규모 시위, 정부 탄압 강화."},
    {name:"아프가니스탄", lat:33.9391, lng:67.7100, info:"탈레반 정권, 여성 인권 심각히 제한."},
    {name:"필리핀", lat:12.8797, lng:121.7740, info:"마약 단속 인권 침해 논란 지속."},
    {name:"프랑스", lat:46.2276, lng:2.2137, info:"반정부 시위 격화, 경찰 폭력 논란."},
    {name:"인도", lat:20.5937, lng:78.9629, info:"보이스피싱, 성범죄 심각. 대응 미흡."},
    {name:"남아프리카공화국", lat:-30.5595, lng:22.9375, info:"강도, 살인 증가. 야간 외출 위험."},
    {name:"중국", lat:35.8617, lng:104.1954, info:"사이버 공격 강화, 해킹 지속."},
    {name:"터키", lat:38.9637, lng:35.2433, info:"내전 및 난민 문제 심각."},
    {name:"나이지리아", lat:9.0820, lng:8.6753, info:"테러, 갱단 활동 활발."},
    {name:"시리아", lat:34.8021, lng:38.9968, info:"내전 장기화, 민간인 피해 심각."},
    {name:"예멘", lat:15.5527, lng:48.5164, info:"내전과 인도주의 위기 지속."},
    {name:"소말리아", lat:5.1521, lng:46.1996, info:"해적 및 테러 위험 증가."},
    {name:"콜롬비아", lat:4.5709, lng:-74.2973, info:"마약 조직과 폭력 빈발."},
    {name:"러시아", lat:61.5240, lng:105.3188, info:"우크라이나와 국경 충돌 지속."},
    {name:"파키스탄", lat:30.3753, lng:69.3451, info:"테러 및 정치 불안 심화."},
    {name:"말리", lat:17.5707, lng:-3.9962, info:"테러 위협 및 내전."},
    {name:"아르헨티나", lat:-38.4161, lng:-63.6167, info:"갱단 범죄 및 마약 유통."},
    {name:"베네수엘라", lat:6.4238, lng:-66.5897, info:"정치 혼란과 치안 불안."},
    {name:"이라크", lat:33.2232, lng:43.6793, info:"테러와 내전 위협."},
    {name:"태국", lat:15.8700, lng:100.9925, info:"남부 분쟁과 마약 밀매."},
    {name:"말레이시아", lat:4.2105, lng:101.9758, info:"갱단 범죄 및 인신매매 문제."},
    {name:"카메룬", lat:7.3697, lng:12.3547, info:"내전과 테러 위험."},
    {name:"콩고민주공화국", lat:-4.0383, lng:21.7587, info:"내전, 무장단체 활동 활발."},
    {name:"이집트", lat:26.8206, lng:30.8025, info:"테러 및 인권 문제."},
    {name:"이라", lat:24.7136, lng:46.6753, info:"테러 위험과 사회 불안."},
    {name:"짐바브웨", lat:-19.0154, lng:29.1549, info:"정치 불안과 범죄 증가."},
    {name:"케냐", lat:-0.0236, lng:37.9062, info:"테러와 갱단 활동."},
    {name:"호주", lat:-25.2744, lng:133.7751, info:"사이버 범죄 및 테러 위협."},
    {name:"일본", lat:36.2048, lng:138.2529, info:"사이버 공격과 경제 범죄 증가."}
  ];

  pins.forEach(p => {
    L.marker([p.lat, p.lng])
      .addTo(map)
      .bindPopup("📍 <b>" + p.name + "</b><br>" + p.info);
  });

  // 뉴스 랜덤 표시
  const newsList = [
    ["우크라이나 전쟁 장기화, 평화 협상 난항", "https://www.pointdaily.co.kr/news/articleView.html?idxno=252751"],
    ["미국 총기 사고 증가", "https://n.news.naver.com/article/296/0000089378?sid=103"],
    ["브라질 갱단 확장", "https://n.news.naver.com/article/052/0002173413?sid=104"],
    ["아프가니스탄 여성 인권 탄압 심각", "https://n.news.naver.com/article/029/0002696579?sid=104"],
    ["이란 대규모 시위 지속 정부 압박 강화", "https://www.dailysecu.com/news/articleView.html?idxno=166367"],
    ["멕시코 마약 카르텔 충돌 심각", "https://n.news.naver.com/article/003/0005726602?sid=104"],
    ["중국 사이버 공격 강화", "https://www.donga.com/news/article/all/20231227/122786696/1"],
    ["러시아 우크라이나 접경지 충돌 심화", "https://n.news.naver.com/article/016/0002399689?sid=104"],
    ["필리핀 마약 단속과 인권 논란", "https://www.newscj.com/news/articleView.html?idxno=3254596"],
    ["남아공 강력범죄 증가", "https://www.0404.go.kr/dev/newest_view.mofa?id=ATC0000000004390&mst_id=MST0000000000041"],
    ["인도 보이스피싱 급증", "https://n.news.naver.com/article/014/0005325397?sid=101"],
    ["프랑스 반정부 시위 격화", "https://m.segye.com/view/20221017519134"],
    ["멕시코 마약 문제 심각", "https://n.news.naver.com/article/001/0015504692?sid=104"],
    ["이란 내부 불만 폭발", "https://www.chosun.com/international/international_general/2025/06/24/Q5SB3KFE2FFP3KDLEW5O63JO3Y/"]
  ];

  const riskList = [
    ["프랑스 반정부 시위 격화", "https://www.theguardian.com/world/2023/jul/01/france-protests-riots-police-violence"],
    ["남아공 강력범죄 증가", "https://www.bbc.com/news/world-africa-64549684"],
    ["멕시코 마약전쟁 계속", "https://www.npr.org/2023/01/06/1147074735/mexico-drug-cartels"],
    ["이란 내부 불만", "https://www.bbc.com/news/world-middle-east-63166335"],
    ["인도 보이스피싱 증가", "https://economictimes.indiatimes.com/tech/technology/cybercrime-in-india-on-the-rise/articleshow/101709742.cms"],
    ["러-우크라 접경 포격", "https://www.aljazeera.com/news/2023/7/3/russian-border-regions-hit-by-ukraine-drones"]
  ];

  function shuffle(arr) {
    return arr.sort(() => Math.random() - 0.5);
  }

  function updateNews() {
    const newsEl = document.getElementById("news-list");
    newsEl.innerHTML = "";
    shuffle(newsList).slice(0, 3).forEach(([title, link]) => {
      const li = document.createElement("li");
      li.innerHTML = `<a href="${link}" target="_blank">${title}</a>`;
      newsEl.appendChild(li);
    });

    const riskEl = document.getElementById("risk-list");
    riskEl.innerHTML = "";
    shuffle(riskList).slice(0, 3).forEach(([title, link]) => {
      const li = document.createElement("li");
      li.innerHTML = `<a href="${link}" target="_blank">${title}</a>`;
      riskEl.appendChild(li);
    });
  }

  updateNews();
  setInterval(updateNews, 15000);

  // 퀴즈 문제 30개 (O/X)
  const allQuestions = [
    {q:"우크라이나는 현재 전쟁 중이다. (O/X)", correct:true, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"미국은 매년 총기 사고가 감소하고 있다. (O/X)", correct:false, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"브라질 갱단은 교도소까지 세력을 확장했다. (O/X)", correct:true, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"아프가니스탄은 여성 교육을 허용하고 있다. (O/X)", correct:false, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"멕시코 마약 카르텔은 군과 충돌 중이다. (O/X)", correct:true, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"중국은 사이버 공격을 강화하고 있다. (O/X)", correct:true, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"프랑스에서는 대규모 반정부 시위가 일어나고 있다. (O/X)", correct:true, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"인도에서 보이스피싱 범죄가 급증하고 있다. (O/X)", correct:true, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"남아프리카공화국은 강도 및 살인 사건이 감소하고 있다. (O/X)", correct:false, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"필리핀에서는 마약 단속 과정에서 인권 침해가 자주 발생한다. (O/X)", correct:true, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"이란에서는 평화로운 시위가 지속되고 있다. (O/X)", correct:false, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"러시아와 우크라이나 접경 지역에서는 긴장이 완화되었다. (O/X)", correct:false, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"멕시코 마약 카르텔과 정부군 간의 충돌은 계속되고 있다. (O/X)", correct:true, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"터키는 내전 상태이다. (O/X)", correct:false, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"소말리아는 해적 문제로 국제적 이슈가 되고 있다. (O/X)", correct:true, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"콜롬비아는 마약 범죄가 줄어들고 있다. (O/X)", correct:false, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"파키스탄은 테러 위험이 높다. (O/X)", correct:true, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"말리는 테러 및 내전 위험에서 벗어났다. (O/X)", correct:false, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"아르헨티나는 갱단 문제로 어려움을 겪고 있다. (O/X)", correct:true, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"베네수엘라는 정치적으로 안정되어 있다. (O/X)", correct:false, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"이라크는 안정적인 상태이다. (O/X)", correct:false, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"태국 남부 지역에서는 분쟁과 마약 문제가 심각하다. (O/X)", correct:true, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"말레이시아는 인신매매 문제가 없다. (O/X)", correct:false, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"카메룬은 내전 문제에서 자유롭다. (O/X)", correct:false, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"콩고민주공화국은 무장단체의 위협을 받고 있다. (O/X)", correct:true, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"이집트는 테러 문제에서 안전하다. (O/X)", correct:false, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"짐바브웨는 정치적으로 안정적이다. (O/X)", correct:false, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"케냐는 테러와 갱단 문제로 고통받고 있다. (O/X)", correct:true, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"호주는 사이버 범죄로부터 안전하다. (O/X)", correct:false, correctText:"정답입니다!", wrongText:"오답입니다."},
    {q:"일본은 사이버 공격에 취약해지고 있다. (O/X)", correct:true, correctText:"정답입니다!", wrongText:"오답입니다."}
  ];

  // 퀴즈용: 3개 랜덤 문제 뽑기
  let quizQuestions = [];
  let current = 0;
  let score = 0;

  function startQuiz() {
    quizQuestions = shuffle(allQuestions).slice(0, 3);
    current = 0;
    score = 0;
    document.getElementById("quiz-result").textContent = "";
    document.getElementById("quiz-question").textContent = quizQuestions[0].q;
  }

  function submitAnswer(userAnswer) {
    const result = document.getElementById("quiz-result");
    const q = quizQuestions[current];
    if (userAnswer === q.correct) {
      score++;
      result.textContent = q.correctText;
      result.style.color = "#00aa88";
    } else {
      result.textContent = q.wrongText;
      result.style.color = "#cc3333";
    }
    current++;
    if (current < quizQuestions.length) {
      setTimeout(() => {
        result.textContent = "";
        document.getElementById("quiz-question").textContent = quizQuestions[current].q;
      }, 2000);
    } else {
      setTimeout(() => {
        document.getElementById("quiz-section").innerHTML = `<h3>퀴즈 완료!</h3><p>점수: ${score}/${quizQuestions.length}</p><button onclick="startQuiz()">다시하기</button>`;
      }, 2000);
    }
  }

  startQuiz();
</script>
</body>
</html>
