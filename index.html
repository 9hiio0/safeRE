<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>SAFARE</title>
  <style>
    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
      background-color: #ffffff;
    }
    #map-container {
      background-color: #001f3f;
      padding: 20px;
    }
    #map { height: 600px; }
    h1, h2, h3 {
      margin: 16px;
    }
    .info-card, .quiz-card {
      background-color: white;
      color: #000;
      border-radius: 8px;
      padding: 16px;
      margin: 20px auto;
      max-width: 900px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      position: relative;
    }
    .quiz-card {
      text-align: center;
    }
    .quiz-card button {
      margin: 10px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    .leaflet-popup-content {
      font-size: 14px;
    }
    a {
      color: black;
      text-decoration: underline;
    }
    .plus-button {
      position: absolute;
      top: 12px;
      right: 16px;
      font-size: 18px;
      color: #888;
      cursor: pointer;
      text-decoration: none;
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
  <div id="map-container">
    <h1 style="color: white; text-align: center;">SAFARE</h1>
    <p style="color: white; text-align: center;">ì„¸ê³„ë¥¼ ì•ˆì „í•˜ê²Œ, SAFAREì™€ í•¨ê»˜</p>
    <div id="map"></div>
  </div>

  <div class="info-card">
    <a href="https://news.google.com/search?q=international+conflicts+crimes" class="plus-button" target="_blank" title="ì „ì²´ ë‰´ìŠ¤ ë³´ëŸ¬ê°€ê¸°">ï¼‹</a>
    <h2>í˜„ êµ­ì œ ë²”ì£„ ë° ë¶„ìŸ í˜„í™©</h2>
    <ul id="news-list"></ul>
  </div>

  <div class="info-card">
    <a href="https://news.google.com/search?q=global+crime+terror+violence" class="plus-button" target="_blank" title="ì „ì²´ ë‰´ìŠ¤ ë³´ëŸ¬ê°€ê¸°">ï¼‹</a>
    <h2>ì£¼ìš” êµ­ê°€ ë³„ ìœ„í—˜ ìƒí™©</h2>
    <ul id="risk-list"></ul>
  </div>

  <div class="quiz-card" id="quiz-section">
    <h3 id="quiz-question">í€´ì¦ˆ ë¡œë”© ì¤‘...</h3>
    <button onclick="submitAnswer(true)">O</button>
    <button onclick="submitAnswer(false)">X</button>
    <p id="quiz-result"></p>
  </div>

  <script>
    // ì§€ë„ ì´ˆê¸°í™”
    var map = L.map('map').setView([20, 0], 2);
    L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
      maxZoom: 18,
      attribution: 'Â© OpenStreetMap'
    }).addTo(map);

    // 38ê°œ í•€ ë°ì´í„°
    const pins = [
      {name:"ìš°í¬ë¼ì´ë‚˜", lat:48.3794, lng:31.1656, info:"ëŸ¬ì‹œì•„ì™€ ì „ìŸ ì¤‘ì„. ë¯¼ê°„ì¸ í”¼í•´ í¼. êµ­ì œì‚¬íšŒ ì¤‘ì¬ ì‹¤íŒ¨ ì¤‘."},
      {name:"ë©•ì‹œì½”", lat:23.6345, lng:-102.5528, info:"ë§ˆì•½ ì¹´ë¥´í…” í™œê°œ ì¹¨. êµ°ê³¼ ì¶©ëŒ ì¦ìŒ. ê´€ê´‘ì§€ ì¸ê·¼ë„ ìœ„í—˜í•¨."},
      {name:"ë¸Œë¼ì§ˆ", lat:-14.2350, lng:-51.9253, info:"ê°±ë‹¨ í™•ì¥ ì¤‘. êµë„ì†Œ ë‚´ë¶€ê¹Œì§€ í†µì œ ì–´ë ¤ì›€. ì´ê¸°ë²”ì£„ ì¦ê°€í•¨."},
      {name:"ì´ë€", lat:32.4279, lng:53.6880, info:"ë‚´ë¶€ ì‹œìœ„ ì§€ì†ë¨. ì¸ê¶Œ íƒ„ì•• ì‹¬ê°í•¨. ì–¸ë¡ í†µì œ ìˆìŒ."},
      {name:"ì•„í”„ê°€ë‹ˆìŠ¤íƒ„", lat:33.9391, lng:67.7100, info:"íƒˆë ˆë°˜ ì •ê¶Œ í•˜ ì¸ê¶Œ ë°•íƒˆ ì¤‘. ì—¬ì„± êµìœ¡ ê¸ˆì§€ë¨. êµ­ì œ ì§€ì› ì°¨ë‹¨ë¨."},
      {name:"í•„ë¦¬í•€", lat:12.8797, lng:121.7740, info:"ë§ˆì•½ ë‹¨ì† ëª…ëª© ì¸ê¶Œ ì¹¨í•´. ë¯¼ê°„ ì‚¬ë§ ë°œìƒí•¨. êµ­ì œ ë¹„íŒ ì§€ì†ë¨."},
      {name:"í”„ë‘ìŠ¤", lat:46.2276, lng:2.2137, info:"ë°˜ì •ë¶€ ì‹œìœ„ ê²©í™”ë¨. ê²½ì°° í­ë ¥ ë…¼ë€ ìˆìŒ. ê´€ê´‘ê° ë¶ˆì•ˆ ì»¤ì§."},
      {name:"ì¸ë„", lat:20.5937, lng:78.9629, info:"ë³´ì´ìŠ¤í”¼ì‹±, ì„±ë²”ì£„ ì‹¬ê°í•¨. ëŒ€ì‘ ì²´ê³„ ë¯¸í¡í•¨. ì™¸êµ­ì¸ë„ í”¼í•´ì ë¨."},
      {name:"ë‚¨ì•„í”„ë¦¬ì¹´ê³µí™”êµ­", lat:-30.5595, lng:22.9375, info:"ê°•ë„Â·ì‚´ì¸ ê¸‰ì¦ ì¤‘. ì•¼ê°„ ì™¸ì¶œ ìœ„í—˜í•¨. ê²½ì°°ë ¥ ë¶€ì¡±í•¨."},
      {name:"ì¤‘êµ­", lat:35.8617, lng:104.1954, info:"ì‚¬ì´ë²„ ìŠ¤íŒŒì´ í™œë™ í™œë°œí•¨. ì„œë°©êµ­ê°€ í•´í‚¹ ì§€ì†. ê°ì‹œ ê°•í™”ë¨."},
      {name:"ë‚˜ì´ì§€ë¦¬ì•„", lat:9.0820, lng:8.6753, info:"í…ŒëŸ¬ ìœ„í—˜ ì§€ì†. ê°±ë‹¨ í™œë™ í™œë°œ."},
      {name:"ìˆ˜ë‹¨", lat:12.8628, lng:30.2176, info:"ë‚´ì „ ì§€ì†, ë¯¼ê°„ì¸ í”¼í•´ ì‹¬ê°."},
      {name:"ì‹œë¦¬ì•„", lat:34.8021, lng:38.9968, info:"ë‚´ì „ ì¥ê¸°í™”. ì¸ë„ì£¼ì˜ ìœ„ê¸°."},
      {name:"ì˜ˆë©˜", lat:15.5527, lng:48.5164, info:"ë‚´ì „ê³¼ ê¸°ê·¼ ì‹¬ê°. êµ­ì œ ì§€ì› ì ˆì‹¤."},
      {name:"ë§ë¦¬", lat:17.5707, lng:-3.9962, info:"í…ŒëŸ¬ ê³µê²© ë¹ˆë²ˆ. ì¹˜ì•ˆ ë¶ˆì•ˆ."},
      {name:"ì—í‹°ì˜¤í”¼ì•„", lat:9.1450, lng:40.4897, info:"ë‚´ì „ ì¤‘, ìˆ˜ë§ì€ ë‚œë¯¼ ë°œìƒ."},
      {name:"ì½œë¡¬ë¹„ì•„", lat:4.5709, lng:-74.2973, info:"ë§ˆì•½ ê´€ë ¨ ë²”ì£„ ë†’ìŒ. ì •ë¶€êµ°ê³¼ ë°˜êµ° ì¶©ëŒ."},
      {name:"ìºë‚˜ë‹¤", lat:56.1304, lng:-106.3468, info:"ê°±ë‹¨ ë²”ì£„ ì¼ë¶€ ì§€ì—­ ì¦ê°€ ì¤‘."},
      {name:"ë¯¸êµ­", lat:37.0902, lng:-95.7129, info:"ì´ê¸° í­ë ¥ ì‹¬ê°. ë³´ì´ìŠ¤í”¼ì‹± ì¦ê°€."},
      {name:"ëŸ¬ì‹œì•„", lat:61.5240, lng:105.3188, info:"êµ°ì‚¬ ì¶©ëŒ ì§€ì†. ì‚¬ì´ë²„ ê³µê²© ë‹¤ìˆ˜."},
      {name:"íŒŒí‚¤ìŠ¤íƒ„", lat:30.3753, lng:69.3451, info:"í…ŒëŸ¬ ìœ„í˜‘ ì¡´ì¬. ì •ì¹˜ ë¶ˆì•ˆì •."},
      {name:"ë°©ê¸€ë¼ë°ì‹œ", lat:23.6850, lng:90.3563, info:"ì¸ì‹ ë§¤ë§¤ ë° ê°•ë ¥ë²”ì£„ ë¬¸ì œ."},
      {name:"ì´ë¼í¬", lat:33.2232, lng:43.6793, info:"í…ŒëŸ¬ ìœ„í˜‘ ë° ë¶„ìŸ ì”ì¡´."},
      {name:"ë§ë ˆì´ì‹œì•„", lat:4.2105, lng:101.9758, info:"ê°±ë‹¨ ë²”ì£„ ë³´ê³ ë¨."},
      {name:"íƒœêµ­", lat:15.8700, lng:100.9925, info:"ë§ˆì•½ ë²”ì£„ì™€ ì¸ì‹ ë§¤ë§¤ ì‹¬ê°."},
      {name:"ë² íŠ¸ë‚¨", lat:14.0583, lng:108.2772, info:"ë³´ì´ìŠ¤í”¼ì‹± í”¼í•´ ì¦ê°€."},
      {name:"ì¸ë„ë„¤ì‹œì•„", lat:-0.7893, lng:113.9213, info:"í…ŒëŸ¬ ìœ„í˜‘ ì¡´ì¬."},
      {name:"ì½©ê³  ë¯¼ì£¼ ê³µí™”êµ­", lat:-4.0383, lng:21.7587, info:"ë‚´ì „ê³¼ ì¸ë„ì£¼ì˜ ìœ„ê¸°."},
      {name:"ëª¨ì ë¹„í¬", lat:-18.6657, lng:35.5296, info:"ë°˜êµ° ê³µê²© ë¹ˆë²ˆ."},
      {name:"ì§ë°”ë¸Œì›¨", lat:-19.0154, lng:29.1549, info:"ë²”ì£„ìœ¨ ë†’ìŒ."},
      {name:"ì•„ë¥´í—¨í‹°ë‚˜", lat:-38.4161, lng:-63.6167, info:"ê°±ë‹¨ ë° ê°•ë„ ì¦ê°€."},
      {name:"ìŠ¤í˜ì¸", lat:40.4637, lng:-3.7492, info:"ë§ˆì•½ ë°€ë§¤ ì£¼ìš” í†µë¡œ."},
      {name:"ì´íƒˆë¦¬ì•„", lat:41.8719, lng:12.5674, info:"ë§ˆí”¼ì•„ ì¡°ì§ í™œë™ ì‹¬ê°."},
      {name:"í„°í‚¤", lat:38.9637, lng:35.2433, info:"í…ŒëŸ¬ ìœ„í˜‘ ë° ë‚œë¯¼ ë¬¸ì œ."},
      {name:"ì‚¬ìš°ë””ì•„ë¼ë¹„ì•„", lat:23.8859, lng:45.0792, info:"ì¸ê¶Œ ë¬¸ì œ ë° ì •ì¹˜ ë¶ˆì•ˆ."},
      {name:"ì´ìŠ¤ë¼ì—˜", lat:31.0461, lng:34.8516, info:"ë¶„ìŸ ì§€ì†."},
      {name:"ë ˆë°”ë…¼", lat:33.8547, lng:35.8623, info:"ê²½ì œ ìœ„ê¸°ì™€ ì •ì¹˜ ë¶ˆì•ˆ."},
      {name:"ìš”ë¥´ë‹¨", lat:30.5852, lng:36.2384, info:"ë‚œë¯¼ ìˆ˜ìš© ë¶€ë‹´ í¼."},
      {name:"íŒŒí‘¸ì•„ë‰´ê¸°ë‹ˆ", lat:-6.3149, lng:143.9555, info:"ê°•ë ¥ ë²”ì£„ ë‹¤ìˆ˜."},
      {name:"ë‰´ì§ˆëœë“œ", lat:-40.9006, lng:174.8860, info:"ê°±ë‹¨ í™œë™ ì¼ë¶€."}
    ];

    pins.forEach(p => {
      L.marker([p.lat, p.lng])
        .addTo(map)
        .bindPopup("ğŸ“ <b>" + p.name + "</b><br>" + p.info);
    });

    // ë‰´ìŠ¤ ë°ì´í„° (ê° ë°°ì—´ì€ [ì œëª©, ë§í¬])
    const newsList = [
      ["ìš°í¬ë¼ ì „ìŸ ì¥ê¸°í™” - í‰í™” í˜‘ìƒ ì§€ì§€ë¶€ì§„", "https://www.bbc.com/news/world-europe-60506682"],
      ["ë¯¸êµ­ ì´ê¸° ì‚¬ê³  ë§¤ë…„ ì¦ê°€ - ì‹œë¯¼ ë¶ˆì•ˆ", "https://edition.cnn.com/2023/06/19/us/gun-violence-united-states-data/index.html"],
      ["ë¸Œë¼ì§ˆ ê°±ë‹¨ í™•ì‚° - ë²”ì£„ìœ¨ ì¹˜ì†ŸìŒ", "https://www.aljazeera.com/features/2022/5/23/brazils-prison-gangs-are-now-powerful-criminal-networks"],
      ["ì¤‘êµ­ ì‚¬ì´ë²„ ìŠ¤íŒŒì´ í™œë™ - êµ­ì œì‚¬íšŒ ìš°ë ¤", "https://www.reuters.com/technology/us-uk-warn-about-chinese-cyber-espionage-group-apt40-2023-07-25/"],
      ["í•„ë¦¬í•€ ë§ˆì•½ ë‹¨ì† ì¸ê¶Œ ì¹¨í•´ ë…¼ë€", "https://www.hrw.org/news/2023/01/31/philippines-abuses-drug-war-continue"],
      ["ì•„í”„ê°€ë‹ˆìŠ¤íƒ„ íƒˆë ˆë°˜ ì •ê¶Œ ì¸ê¶Œ ì–µì••", "https://news.un.org/en/story/2023/08/1139777"],
      ["í”„ë‘ìŠ¤ ë°˜ì •ë¶€ ì‹œìœ„ ê²©í™”", "https://www.theguardian.com/world/2023/jul/01/france-protests-riots-police-violence"],
      ["ë‚¨ì•„ê³µ ê°•ë ¥ë²”ì£„ ì¦ê°€", "https://www.bbc.com/news/world-africa-64549684"],
      ["ë©•ì‹œì½” ë§ˆì•½ì „ìŸ ê³„ì†", "https://www.npr.org/2023/01/06/1147074735/mexico-drug-cartels"],
      ["ì´ë€ ë‚´ë¶€ ë¶ˆë§Œ í­ë°œ", "https://www.bbc.com/news/world-middle-east-63166335"],
      ["ì¸ë„ ë³´ì´ìŠ¤í”¼ì‹± ì¦ê°€", "https://economictimes.indiatimes.com/tech/technology/cybercrime-in-india-on-the-rise/articleshow/101709742.cms"],
      ["ëŸ¬-ìš°í¬ë¼ ì ‘ê²½ í¬ê²©", "https://www.aljazeera.com/news/2023/7/3/russian-border-regions-hit-by-ukraine-drones"]
    ];

    const riskList = [
      ["í”„ë‘ìŠ¤ ë°˜ì •ë¶€ ì‹œìœ„ ê²©í™”", "https://www.theguardian.com/world/2023/jul/01/france-protests-riots-police-violence"],
      ["ë‚¨ì•„ê³µ ê°•ë ¥ë²”ì£„ ì¦ê°€", "https://www.bbc.com/news/world-africa-64549684"],
      ["ë©•ì‹œì½” ë§ˆì•½ì „ìŸ ê³„ì†", "https://www.npr.org/2023/01/06/1147074735/mexico-drug-cartels"],
      ["ì´ë€ ë‚´ë¶€ ë¶ˆë§Œ í­ë°œ", "https://www.bbc.com/news/world-middle-east-63166335"],
      ["ì¸ë„ ë³´ì´ìŠ¤í”¼ì‹± ì¦ê°€", "https://economictimes.indiatimes.com/tech/technology/cybercrime-in-india-on-the-rise/articleshow/101709742.cms"],
      ["ëŸ¬-ìš°í¬ë¼ ì ‘ê²½ í¬ê²©", "https://www.aljazeera.com/news/2023/7/3/russian-border-regions-hit-by-ukraine-drones"]
    ];

    function shuffle(arr) {
      return arr.slice().sort(() => Math.random() - 0.5);
    }

    function updateNews() {
      const newsEl = document.getElementById("news-list");
      newsEl.innerHTML = "";
      shuffle(newsList).slice(0, 3).forEach(([title, link]) => {
        const li = document.createElement("li");
        li.innerHTML = `<a href="${link}" target="_blank" rel="noopener noreferrer">${title}</a>`;
        newsEl.appendChild(li);
      });

      const riskEl = document.getElementById("risk-list");
      riskEl.innerHTML = "";
      shuffle(riskList).slice(0, 3).forEach(([title, link]) => {
        const li = document.createElement("li");
        li.innerHTML = `<a href="${link}" target="_blank" rel="noopener noreferrer">${title}</a>`;
        riskEl.appendChild(li);
      });
    }

    updateNews();
    setInterval(updateNews, 15000);
        // í€´ì¦ˆ ë¬¸ì œ 3ê°œ (O/X)
    const questions = shuffle([
      {
        q: "ë¸Œë¼ì§ˆì˜ ë²”ì£„ìœ¨ì€ ë‚®ì•„ì¡Œë‹¤. (O/X)",
        correct: false,
        correctText: "ì˜¤ë‹µì…ë‹ˆë‹¤. ë¸Œë¼ì§ˆ ê°±ë‹¨ì˜ ë²”ì£„ìœ¨ì€ ìƒìŠ¹ ì¤‘ì…ë‹ˆë‹¤.",
        explanation: "ë¸Œë¼ì§ˆ ê°±ë‹¨ì€ êµë„ì†Œ ë‚´ë¶€ê¹Œì§€ í™•ì¥ ì¤‘ì´ë©°, ì´ê¸° ì‚¬ìš©ë„ ì¦ê°€í•˜ê³  ìˆìŠµë‹ˆë‹¤.",
        link: "https://www.aljazeera.com/features/2022/5/23/brazils-prison-gangs-are-now-powerful-criminal-networks"
      },
      {
        q: "ì•„í”„ê°€ë‹ˆìŠ¤íƒ„ì€ ì—¬ì„± êµìœ¡ì„ í—ˆìš©í•œë‹¤. (O/X)",
        correct: false,
        correctText: "ì˜¤ë‹µì…ë‹ˆë‹¤. ì—¬ì„± êµìœ¡ì€ ì œí•œë˜ê³  ìˆìŠµë‹ˆë‹¤.",
        explanation: "íƒˆë ˆë°˜ ì •ê¶Œ ì´í›„ ì—¬ì„± êµìœ¡ì´ ê¸ˆì§€ë˜ì–´ êµ­ì œì ìœ¼ë¡œ ë¹„ë‚œë°›ê³  ìˆìŠµë‹ˆë‹¤.",
        link: "https://news.un.org/en/story/2023/08/1139777"
      },
      {
        q: "ë©•ì‹œì½” ë§ˆì•½ ì¹´ë¥´í…”ì€ êµ°ê³¼ ì¶©ëŒ ì¤‘ì´ë‹¤. (O/X)",
        correct: true,
        correctText: "ì •ë‹µì…ë‹ˆë‹¤!",
        explanation: "ë§ˆì•½ ì¡°ì§ê³¼ êµ°ì´ ì¶©ëŒí•˜ë©° ì •ë¶€ì˜ ë‹¨ì†ì´ ê°•í™”ë˜ê³  ìˆìŠµë‹ˆë‹¤.",
        link: "https://www.npr.org/2023/01/06/1147074735/mexico-drug-cartels"
      }
    ]).slice(0, 3);

    let current = 0;
    let score = 0;

    function submitAnswer(userAnswer) {
      const result = document.getElementById("quiz-result");
      const q = questions[current];
      if (userAnswer === q.correct) {
        score++;
        result.innerHTML = `<b>${q.correctText}</b><br>${q.explanation}<br><a href="${q.link}" target="_blank" rel="noopener noreferrer">ê´€ë ¨ ë‰´ìŠ¤ ë³´ê¸°</a>`;
        result.style.color = "#00aa88";
      } else {
        result.innerHTML = `<b>ì˜¤ë‹µì…ë‹ˆë‹¤.</b><br>${q.explanation}<br><a href="${q.link}" target="_blank" rel="noopener noreferrer">ê´€ë ¨ ë‰´ìŠ¤ ë³´ê¸°</a>`;
        result.style.color = "#cc3333";
      }

      current++;
      if (current < questions.length) {
        setTimeout(() => {
          result.innerHTML = "";
          document.getElementById("quiz-question").textContent = questions[current].q;
        }, 3000);
      } else {
        setTimeout(() => {
          document.getElementById("quiz-section").innerHTML = `<h3>í€´ì¦ˆ ì™„ë£Œ!</h3><p>ì ìˆ˜: ${score} / ${questions.length}</p>`;
        }, 4000);
      }
    }

    // í€´ì¦ˆ ì²« ë¬¸ì œ í‘œì‹œ
    document.getElementById("quiz-question").textContent = questions[0].q;
  </script>
</body>
</html>
